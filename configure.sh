#!/bin/sh
set -e

#--------------------------------------------------------------------------------------------------
# Global
#--------------------------------------------------------------------------------------------------

sudo apt install curl sudo unzip vim

#--------------------------------------------------------------------------------------------------
# Node.js
#--------------------------------------------------------------------------------------------------

sudo apt install nodejs npm

npm install --global yarn

#--------------------------------------------------------------------------------------------------
# PeerTube
#--------------------------------------------------------------------------------------------------

sudo apt install python3-dev python-is-python3

sudo apt install certbot nginx ffmpeg postgresql postgresql-contrib openssl g++ make redis-server git cron wget

#--------------------------------------------------------------------------------------------------
# Database
#--------------------------------------------------------------------------------------------------

sudo systemctl start redis postgresql

#--------------------------------------------------------------------------------------------------
# Install
#--------------------------------------------------------------------------------------------------

yarn install --pure-lockfile
